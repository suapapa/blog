---
title: 그린박스 6/6 – 아두이노 스케치 심기.
author: suapapa
type: post
date: 2010-09-23T23:15:44+00:00
url: /p=470
dsq_thread_id:
  - 722491015
translations:
  - 'a:1:{i:0;s:5448:"YToxOntzOjI6ImtvIjthOjI6e3M6MTA6InBvc3RfdGl0bGUiO3M6NDk6Iuq3uOumsOuwleyKpCA2LzYgLSDslYTrkZDsnbTrhbgg7Iqk7LyA7LmYIOyLrOq4sC4iO3M6MTI6InBvc3RfY29udGVudCI7czozOTYwOiI8cD4mbmJzcDvqt7jrprDrsJXsiqQg66eI7KeA66eJIO2PrOyKpO2MhSDsnoXri4jri6QuIFQtVDwvcD4NCjxwPjxpbWcgd2lkdGg9XFwmcXVvdDs0MjBcXCZxdW90OyBoZWlnaHQ9XFwmcXVvdDsyODBcXCZxdW90OyBhbHQ9XFwmcXVvdDtcXCZxdW90OyBzcmM9XFwmcXVvdDtodHRwOi8vd2ViLnN1YXBhcGEubmV0OjgwODAvd29yZHByZXNzL3dwLWNvbnRlbnQvdXBsb2Fkcy9pbWFnZS9nYm94X2Z1bGxzaG90LmpwZ1xcJnF1b3Q7IC8+PC9wPg0KPHA+6riw7Iig7KCB7Jy866Gc64qUIOuztOyemOqygyDsl4bsp4Drp4wsIOunpCDri6jqs4Trp4jri6Qg7Iio7Ja07J6I642YIOusuOygnOuTpOydhCDrp4zrgpjrqbTshJwg7JWE7KO8IOydteyCrOydtO2MhSDtlojrjZgg7ZSE66Gc7KCd7Yq47JiA7Iq164uI64ukLjwvcD4NCjxwPuyghOuptCDtjKjrhJDsl5Ag67aZ7Ja07J6I64qUIOyVhOuRkOydtOuFuOyXkCDsiqTsvIDsuZjrpbwg7Ius7Ja07IScIOuniOustOumrO2VmOuPhOuhnSDtlZjqsqDsirXri4jri6QuPC9wPg0KPHA+PCEtLW1vcmUtLT48L3A+DQo8cD7tlZzrsKnsl5Ag67KE6re47JeG6rOgLCDrr7jrnpjsl5Ag7ZWE7JqU7ZWcIOq4sOuKpeq5jOyngCDrqqjrkZAg6rCW7LaYIOyKpOy8gOy5mOulvCDsvZTrlKntlbTshJwg7ZWc67KIIOyLrOqzoCDrgZ0hPC9wPg0KPHA+Li4u7ZWgIOyImOqwgCDsl4bquLAg65WM66y47JeQLi4uPC9wPg0KPHVsPg0KICAgIDxsaT7siqTsvIDsuZjrpbwg7Ius7Jy866Ck66m0IOyVhOuRkOydtOuFuCBJREXrpbwg7IKs7Jqp7ZWY64qUIOqxtOuNsC4uLjwvbGk+DQogICAgPGxpPuydtCDsu7Ttk6jthLDripQgLXjrj4zrpqzquLDsl5Ag67KF7LCsIOyCrOyWkeuPhCDsgqzslpHsnbTqsbDri4jsmYAtIOyEnOuyhOudvCDrqqjri4jthLDqsIAg7JeG64qU642wLi4uLjwvbGk+DQo8L3VsPg0KPHA+7IKs7IukIOydtCDrrLjsoJzripQg7LKY7J2MICjqt7jrn6zri4jquYwgMeuFhCDsoIQpIOu2gO2EsCDsg53qsIHtlojrjZgg66y47KCc7JiA7KeA66eMLCDrmJHrmJHtlZwg64iE6rWw6rCA6rCAIGNtZGxpbmXsl5DshJwgYXJkdWlub+ulvCDruYzrk5ztlaAg7IiYIOyeiOuKlCDrsKnrspXsnYQg66eM65Ok7Ja0IOuRkOyXiOydhOq6vOyVvH4g65286rOgIOyDneqwge2VmOqzoCDrhJjslrTqsJTsl4jrk5zrnqzso6AuIOyVhOuRkOydtOuFuCDshozsiqQg7Yq466as7JeQ7IScIE1ha2VmaWxl7J2EIOuzuCDquLDslrXrj4Qg7J6I7JeI6rOg7JqULi4uPC9wPg0KPHA+7ZeM642wLCDslYTrkZDsnbTrhbgg7IaM7IqkIO2KuOumrOydmCBNYWtlZmlsZeydgCDrqqjrkZAg67aA7Yq466Gc642UIOu5jOuTnOyaqeydtOyXiOqzoCAoVC1UKSDqsoDsg4ntlbTshJwg7LC+7J2EIOyImCDsnojrjZggTWFrZWZpbGXrk6Trj4Qg7ZiE7J6sIOyVhOuRkOydtOuFuCDrsoTsoLwoMTkp7JeQ7ISc64qUIOyekeuPmeydhCDtlZjsp4Ag7JWK64Sk7JqULiDriITqtaztlZzthYwg7ZWY7IaM7JewIO2VmOqyoOyWtOyalCDsmKTtlIjshozsiqTsnbjqsbguLi48L3A+DQo8cD5zY29uc+ydhCDsgqzsmqntlZjripQg67mM65Oc7ZmY6rK97J2EIOunjOuTpOyWtCDrg4jsirXri4jri6QuLjwvcD4NCjx1bD4NCiAgICA8bGk+DQogICAgPG1ldGEgaHR0cC1lcXVpdj1cXCZxdW90O2NvbnRlbnQtdHlwZVxcJnF1b3Q7IGNvbnRlbnQ9XFwmcXVvdDt0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLThcXCZxdW90Oz48YSBocmVmPVxcJnF1b3Q7aHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2Fyc2NvbnMvXFwmcXVvdDs+aHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2Fyc2NvbnMvPC9hPiAgICAgICAgICAgICAgIDwvbWV0YT4NCiAgICA8L2xpPg0KPC91bD4NCjxwPg0KPG1ldGEgaHR0cC1lcXVpdj1cXCZxdW90O2NvbnRlbnQtdHlwZVxcJnF1b3Q7IGNvbnRlbnQ9XFwmcXVvdDt0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLThcXCZxdW90Oz7rrLTroKQg7ZiEIOyhtCDsnKDsnbzsnZgg7KCc64yA66GcIOyekeuPme2VmOuKlCBjbWRsaW5lIGFyZHVpbm8g7JeQ7JqULiA8L21ldGE+DQo8L3A+DQo8cD7svIDsnbTsiqQg65WM66y47JeQIOuKpuyWtOynhOuLpOqzoCDrk5zrpr3ss5Ag64aT6rOgKCZsdDstIOyLpOustOyXkOyEnCDsoJXrp5Ag7KSR7JqU7ZWcIO2MgSEpJm5ic3A77J20IOu5jOuTnO2ZmOqyveydhCDqsJbstpTrqbTshJwg7IOd6rCB7ZaI7KOgLjwvcD4NCjxibG9ja3F1b3RlPg0KPHA+XFxcJ+ydtOqyjCDsmYTshLHrkJjrqbQg7JeE7LKt64KcIOyEvOyEuOydtOyFmOydtCDsnbzslrTrgpjqsqDqtbAuIOydjO2VmO2VmCFcXFwnPC9wPg0KPC9ibG9ja3F1b3RlPg0KPHA+7ZWY7KeA66eMIOyEuOyDgeydgCDsmIjsoITsspjrn7wg6rOg7JqU7ZaI7Ja07JqULiAtXy07PC9wPg0KPHA+7JeF66Gc65Oc66W8IO2VmOugpOuptCDsl4XroZzrk5wg7KeB7KCE7JeQIOyVhOuRkOydtOuFuCDrs7Trk5zrpbwg66as7IWL7ZW07JW8IO2VmOuKlOuNsCwg7KCV7ZKIIOyVhOuRkOydtOuFuOyXkOyEnOuKlCDsnpDrj5nsnLzroZwg65CY7KOgLiDsnbTrpbwg7JyE7ZW0IOyLnOumrOyWvOydmCBEVFLtlYAo7JuQ656YIOuLpOuluCDsmqnrj4TsnZgg7ZWA7J207KeA66eMIOyVhOustO2KvCDsp4DquIjsnYAg7JWI7JSAKeydtCBBVlLsuansnZgg66as7IWL7ZWA7JeQIOyXsOqysOuQmOyWtCDsnojsirXri4jri6QuPC9wPg0KPHA+7KCc6rCAIOunjOuToCDshJzrsoQg66qo64uI7YSw7JeQ64qUIOyLpOyImOuhnCBEVFLsnYQg7Jew6rKw7ZWY7KeAIOyViuyVmOyWtOyalC4gVVNCMlNlcmlhbCDsuansl5DshJwgRFRS7J2EIOywvuq4sCDrsojqsbDroZzsmrDri4gsIOuCqOuKlCBEaWdpdGFsIEkvT+2VgOydhCDsgqzsmqntlbQgPHN0cmlrZT7snpDsgrQ8L3N0cmlrZT7siqTsiqTroZwg66as7IWLIO2VoCDsiJgg7J6I6rKMIOq1rOyEse2VtCDso7zsl4jsirXri4jri6QuPC9wPg0KPHA+7Iuc66as7Ja866GcICZxdW90OyNSU1QmcXVvdDvrpbwg67O064K066m0IO2VtOuLuSBELUkvT+2VgOydhCBISUdI66GcIO2VtOyEnCDrpqzshYsuIO2ajOuhnOuPhOyZgCDrp4zrk6Ag66qo7JaRIOyeheuLiOuLpC48L3A+DQo8cD4NCjxtZXRhIGh0dHAtZXF1aXY9XFwmcXVvdDtjb250ZW50LXR5cGVcXCZxdW90OyBjb250ZW50PVxcJnF1b3Q7dGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04XFwmcXVvdDsgLz48L3A+DQo8cD48aW1nIHdpZHRoPVxcJnF1b3Q7NDIwXFwmcXVvdDsgaGVpZ2h0PVxcJnF1b3Q7MjgwXFwmcXVvdDsgYWx0PVxcJnF1b3Q7XFwmcXVvdDsgc3JjPVxcJnF1b3Q7aHR0cDovL3dlYi5zdWFwYXBhLm5ldDo4MDgwL3dvcmRwcmVzcy93cC1jb250ZW50L3VwbG9hZHMvaW1hZ2UvZ2JveF9tb25fcnN0X3RyaWdnZXIuanBnXFwmcXVvdDsgLz48L3A+DQo8cD7sl7Qg7IiY7LaVIO2KnOu4jOuhnCDrp4jrrLTrpqwg7ZW07IScIOyggeuLue2eiCDsp7HrsJXslYQg7KSs7Iq164uI64ukLiA6KTwvcD4NCjxibG9ja3F1b3RlPg0KPHA+7J20IO2MgeydgCDsp4Dqt7jruYQsIEJULCDsnbTrjZTrhLcy7Iuc66as7Ja8LCBXaWZpMuyLnOumrOyWvOuTseydhCDslYTrkZDsnbTrhbjsl5Ag7Jew6rKw7ZaI7J2EIOuVjCwgRFRS7J20IOyXhuuKlCDqsr3smrDsl5Drj4QsIOybkOqyqeycvOuhnCDslYTrkZDsnbTrhbjrpbwg66as7IWL7ZWY6rOgIOyKpOy8gOy5mOulvCDsi6zsnYTsiJgg7J6I6rKMIO2VtCDso7zquLAg65WM66y47JeQIOq9pCDsnKDsmqntlanri4jri6QuPC9wPg0KPC9ibG9ja3F1b3RlPg0KPHA+6re465+8LCDrj5nsnpEg64+Z7JiB7IOBIOuTpOyWtOqwkeuLiOuLpC48L3A+DQo8cD4NCjxtZXRhIGh0dHAtZXF1aXY9XFwmcXVvdDtjb250ZW50LXR5cGVcXCZxdW90OyBjb250ZW50PVxcJnF1b3Q7dGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04XFwmcXVvdDs+W3lvdXR1YmU6aHR0cDovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PWFRV2dENlJvX3Y4XSAgPC9tZXRhPg0KPC9wPg0KPHA+64GdfiA6KTwvcD4iO319";}'
categories:
  - Arduino
  - MyProject
  - Programming
tags:
  - scons
  - youtube
  - 아두이노

---
 그린박스 마지막 포스팅 입니다. T-T

<img loading="lazy" width="420" height="280" alt="" src="https://homin.dev/asset/blog/image/gbox_fullshot.jpg" /> 

기술적으로는 보잘것 없지만, 매 단계마다 숨어있던 문제들을 만나면서 아주 익사이팅 했던 프로젝트였습니다.

전면 패널에 붙어있는 아두이노에 스케치를 심어서 마무리하도록 하겠습니다.

<!--more-->

한방에 버그없고, 미래에 필요한 기능까지 모두 갖춘 스케치를 코딩해서 한번 심고 끝!

&#8230;할 수가 없기 때문에&#8230;

  * 스케치를 심으려면 아두이노 IDE를 사용하는 건데&#8230;
  * 이 컴퓨터는 -x돌리기에 벅찬 사양도 사양이거니와- 서버라 모니터가 없는데&#8230;.

사실 이 문제는 처음 (그러니까 1년 전) 부터 생각했던 문제였지만, 똑똑한 누군가가 cmdline에서 arduino를 빌드할 수 있는 방법을 만들어 두었을꺼야~ 라고 생각하고 넘어갔었드랬죠. 아두이노 소스 트리에서 Makefile을 본 기억도 있었고요&#8230;

헌데, 아두이노 소스 트리의 Makefile은 모두 부트로더 빌드용이었고 (T-T) 검색해서 찾을 수 있던 Makefile들도 현재 아두이노 버젼(19)에서는 작동을 하지 않네요. 누구한테 하소연 하겠어요 오픈소스인걸&#8230;

scons을 사용하는 빌드환경을 만들어 냈습니다..

  * <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    
    <http://code.google.com/p/arscons/> </meta> 

<meta http-equiv="content-type" content="text/html; charset=utf-8" />
무려 현 존 유일의 제대로 작동하는 cmdline arduino 에요.</meta> 

케이스 때문에 늦어진다고 드립쳐 놓고(<- 실무에서 정말 중요한 팁!) 이 빌드환경을 갖추면서 생각했죠.

> &#8216;이게 완성되면 엄청난 센세이션이 일어나겠군. 음하하!&#8217;

하지만 세상은 예전처럼 고요했어요. -_-;

업로드를 하려면 업로드 직전에 아두이노 보드를 리셋해야 하는데, 정품 아두이노에서는 자동으로 되죠. 이를 위해 시리얼의 DTR핀(원래 다른 용도의 핀이지만 아무튼 지금은 안씀)이 AVR칩의 리셋핀에 연결되어 있습니다.

제가 만든 서버 모니터에는 연결되어 실수로 연결하지 않았어요. USB2Serial 칩에서 DTR을 찾기 번거로우니, 남는 Digital I/O핀을 사용해 <strike>자살</strike>스스로 리셋 할 수 있게 구성해 주었습니다.

시리얼로 &#8220;#RST&#8221;를 보내면 해당 D-I/O핀을 HIGH로 해서 리셋. 회로도와 만든 모양 입니다.

<meta http-equiv="content-type" content="text/html; charset=utf-8" />


<img loading="lazy" width="420" height="280" alt="" src="https://homin.dev/asset/blog/image/gbox_mon_rst_trigger.jpg" /> 

열 수축 튜브로 마무리 해서 적당히 짱박아 줬습니다. 🙂

> 이 팁은 지그비, BT, 이더넷2시리얼, Wifi2시리얼등을 아두이노에 연결했을 때, DTR이 없는 경우에도, 원격으로 아두이노를 리셋하고 스케치를 심을수 있게 해 주기 때문에 꽤 유용합니다.

그럼, 동작 동영상 들어갑니다.

<meta http-equiv="content-type" content="text/html; charset=utf-8" />
[youtube:http://www.youtube.com/watch?v=aQWgD6Ro_v8] </meta> 

끝~ 🙂