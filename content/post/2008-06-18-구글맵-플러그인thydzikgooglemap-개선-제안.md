---
title: 구글맵 플러그인(thydzikGoogleMap) 개선 제안
author: suapapa
type: post
date: 2008-06-18T06:02:44+00:00
url: /p=77
translations:
  - 'a:1:{i:0;s:2904:"YToxOntzOjI6ImtvIjthOjM6e3M6MTE6InBvc3RfZXhjZXB0IjtzOjA6IiI7czoxMjoicG9zdF9jb250ZW50IjtzOjIwMjA6IjxwPuyWuOygnOu2gO2EsOyduOqwgCDsoJwg67iU66Gc6re47J2YIOuhnOuUqeydtCDriIjsl5Ag652E6rKMIOuKkOugpOyhjOyXiOyKteuLiOuLpC4g7JuQ7J247J2EIOywvuyVhOuztOuLiCDqtazquIDrp7XsnYQg67aZ7J206riwIOychO2VtCDshKTsuZjtlZwgPGEgaHJlZj0mcXVvdDtodHRwOi8vd29yZHByZXNzLm9yZy9leHRlbmQvcGx1Z2lucy90aHlkemlrLWdvb2dsZS1tYXAvJnF1b3Q7PnRoeWR6aWtHb29nbGVNYXA8L2E+IOybjOuTnO2UhOugiOyKpCDtlIzrn6zqt7jsnbjsnbQg6rWs6riA66GcIOu2gO2EsCDtlYTsmpTtlZwg7Iqk7YGs66a97Yq466W8IOqwgOyguOyYpOuKlCDsi5zqsITsnbQg6rG466as642U6rWw7JqULjwvcD4KPHA+64SkLCDqtazquIDrp7XsnYAg6rO17Kec66GcIOyTuCDsiJgg7J6I7KeA66eMLCDtirjrnpjtlL3snYAg6rO17Kec6rCAIOyVhOuLiOyjoC48L3A+CjxwPuusuOygnOuKlCDqtazquIDrp7XsnbQg7Y+s7ZWo65CY7Ja0IOyeiOyngCDslYrsnYAg7Y+s7Iqk7Yq47JeQ7ISc64+EIOuYkeqwmeydtCDqtazquIDrp7XsnLzroZwg67aA7YSwIOyKpO2BrOumve2KuOuTpOydhCDrtojrn6zsmKjri6TripQg7KCQIOyeheuLiOuLpC48L3A+CjxwPjwhLS1tb3JlLS0+7ZW07IScIOyKpO2BrOumve2KuOulvCDsl7TslrQg64uk7J2M6rO8IOqwmeydtCDtl6TrjZTsl5Ag7Iqk7YGs66a97Yq466W8IOu2meydtOuKlCDrtoDrtoTsnYQg7KO87ISdIOyymOumrO2VmOqzoCw8L3A+CjxwcmUgbGFuZz0mcXVvdDtwaHAmcXVvdDs+Ci8vYWRkX2FjdGlvbihcJ3dwX2hlYWRcJywgXCd0aHlkemlrR29vZ2xlTWFwSGVhZGVyXCcpOwo8L3ByZT4KPHA+64uk7J2M6rO8IOqwmeydtCB0aHlkemlrRmluZEdvb2dsZU1hcCDtlajsiJjsl5DshJwg6rWs6riA66e1IO2DnOq3uCDsp4HsoITsl5Ag7J20IOyKpO2BrOumve2KuOulvCDrtpnsnbTrj4TroZ0g7IiY7KCV7ZaI7Iq164uI64ukLjwvcD4KPHByZSBsYW5nPSZxdW90O3BocCZxdW90Oz4KZ2xvYmFsICR0aHlkemlrR29vZ2xlTWFwX2dvb2dsZU1hcEtleTsKJHRlbXAzID0gY2hyKDEzKS5cJzxzY3JpcHQgc3JjPSZxdW90O2h0dHA6Ly9tYXBzLmdvb2dsZS5jb20vbWFwcz9maWxlPWFwaSZhbXA7dj0yJmFtcDtrZXk9XCcuJHRoeWR6aWtHb29nbGVNYXBfZ29vZ2xlTWFwS2V5LlwnJnF1b3Q7IHR5cGU9JnF1b3Q7dGV4dC9qYXZhc2NyaXB0JnF1b3Q7Pjwvc2NyaXB0PlwnLmNocigxMykuXCc8c2NyaXB0IHNyYz0mcXVvdDtcJy5nZXRfYmxvZ2luZm8oXCd1cmxcJykuXCcvd3AtY29udGVudC9wbHVnaW5zL3RoeWR6aWstZ29vZ2xlLW1hcC90aHlkemlrR29vZ2xlTWFwLmpzJnF1b3Q7IHR5cGU9JnF1b3Q7dGV4dC9qYXZhc2NyaXB0JnF1b3Q7Pjwvc2NyaXB0PlwnLmNocigxMykuJHRlbXAzOwo8L3ByZT4KPHA+6re4IOqysOqzvCDqvaQg7L6M7KCB7ZWY6rKMIOuwlOuAjOyXiOuEpOyalC4g65OgIOyekOumrOuKlCDrqrDrnbzrj4Qg64KcIOyekOumrOuKlCDti5TqsIAg64KY64qUIOuyleydtOuehOq5jOyalD8g44WO44WOPC9wPgo8cD7ri6gg7J2066CH6rKMIOuwlOq+uOuptCDtlZwg7Y+s7Iqk7Yq47JeQIOyXrOufrCDqtazquIDrp7Ug7YOc6re46rCAIOyeiOydhCDqsr3smrAg66y47KCc6rCAIOuQoCDsiJgg7J6I7Iq164uI64ukLiDssqvrsojsp7jsl5Drp4wg67aZ7J2064+E66GdIOyghOyXreuzgOyImOulvCDsjajshJwg67mE6rWQ7ZW07JW8IO2VmOuCmCDsnqDsi5wg6rOg66+87ZWY64uk6rCALi4uIO2UjOufrOq3uOyduOydhCDrp4zrk6AgPGEgaHJlZj0mcXVvdDtodHRwOi8vdGh5ZHppay5jb20vdGh5ZHppa2dvb2dsZW1hcC12MTMvJnF1b3Q7PnRoeWR6aWvsnZgg67iU66Gc6re47JeQIOyalOyyrTwvYT7tlbQg65GQ6rOgIOuLpOydjCDrprTrpqzspojsl5Ag67CY7JiB65CY6riw66W8IOq4sOuPhO2VmOuKlCDsqr3snYQg7ISg7YOd7ZaI7Iq164uI64ukLjwvcD4KPHA+7J2065+s64uI6rmMIOyZoOyngCDsgqzsnqXri5jsnbQg65CcIOqygyDqsJnri6TriqUuIOOFjuOFjjwvcD4iO3M6MTA6InBvc3RfdGl0bGUiO3M6NTQ6Iuq1rOq4gOuntSDtlIzrn6zqt7jsnbgodGh5ZHppa0dvb2dsZU1hcCkg6rCc7ISgIOygnOyViCI7fX0=";}'
dsq_thread_id:
  - 741567168
categories:
  - Wordpress
tags:
  - GPS
  - WP-plugin

---
언제부터인가 제 블로그의 로딩이 눈에 띄게 느려졌었습니다. 원인을 찾아보니 구글맵을 붙이기 위해 설치한 [thydzikGoogleMap][1] 워드프레스 플러그인이 구글로 부터 필요한 스크립트를 가져오는 시간이 걸리더군요.

네, 구글맵은 공짜로 쓸 수 있지만, 트래픽은 공짜가 아니죠.

문제는 구글맵이 포함되어 있지 않은 포스트에서도 똑같이 구글맵으로 부터 스크립트들을 불러온다는 점 입니다.

해서 스크립트를 열어 다음과 같이 헤더에 스크립트를 붙이는 부분을 주석 처리하고,

<pre lang="php">//add_action('wp_head', 'thydzikGoogleMapHeader');
</pre>

다음과 같이 thydzikFindGoogleMap 함수에서 구글맵 태그 직전에 이 스크립트를 붙이도록 수정했습니다.

<pre lang="php">global $thydzikGoogleMap_googleMapKey;
$temp3 = chr(13).''.chr(13).''.chr(13).$temp3;
</pre>

그 결과 꽤 쾌적하게 바뀌었네요. 든 자리는 몰라도 난 자리는 틔가 나는 법이랄까요? ㅎㅎ

단 이렇게 바꾸면 한 포스트에 여러 구글맵 태그가 있을 경우 문제가 될 수 있습니다. 첫번째에만 붙이도록 전역변수를 써서 비교해야 하나 잠시 고민하다가&#8230; 플러그인을 만든 [thydzik의 블로그에 요청][2]해 두고 다음 릴리즈에 반영되기를 기도하는 쪽을 선택했습니다.

이러니까 왠지 사장님이 된 것 같다능. ㅎㅎ

 [1]: http://wordpress.org/extend/plugins/thydzik-google-map/
 [2]: http://thydzik.com/thydzikgooglemap-v13/