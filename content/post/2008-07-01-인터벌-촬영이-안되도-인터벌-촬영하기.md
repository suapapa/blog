---
title: μΈν„°λ² μ΄¬μμ΄ μ•λλ„ μΈν„°λ² μ΄¬μν•κΈ°
author: suapapa
type: post
date: 2008-07-01T03:52:36+00:00
url: /p=81
dsq_thread_id:
  - 722490263
aktt_notify_twitter:
  - no
categories:
  - Arduino
  - Camera
  - Programming

---
μ§€λ‚ ν¬μ¤νΈμ— μ†κ°ν–λ [μΉ΄λ©”λΌ μ…”ν„° νΈλ¦¬κ±°](https://homin.dev/blog/p=269)λ¥Ό μ‚¬μ©ν•΄ μΈν„°λ² μ΄¬μμ„ μ‹λ„ν•΄ λ΄¤μµλ‹λ‹¤.

![](https://homin.dev/asset/blog/2008/07/bean_seeded.jpg)

- μ¤€λΉ„λ¬Ό : DSLR, μ‚Όκ°λ€, Arduino, μ…”ν„°νΈλ¦¬κ±°, μ½©, ν™, μ»µ, λ¬Ό

μ½©μ— λ¬Όμ„ μ£Όλ©° 5μΌ κ°€λ‰μ΄ μ§€λ‚μ μ‹Ήμ΄ μ¬λΌμ¤κΈ° μ‹μ‘ν–μµλ‹λ‹¤. μ‚Όκ°λ€μ— μΉ΄λ©”λΌλ¥Ό μ„¤μΉν•κ³  Arduino μ…”ν„° νΈλ¦¬κ±°λ¥Ό μ—°κ²°ν•μ—¬ μ¤€λΉ„ μ™„λ£!  


  
μ•„λμ μ—λ‹λ©”μ΄μ… GIFκ°€ κ·Έ κ²°κ³Όλ¬Ό μ…λ‹λ‹¤.

![μ‘¤~μ±~](https://homin.dev/asset/blog/2008/07/bean_poping.gif)

> μ‘¤~μ±~

7μ‹κ°„ λ™μ• 10λ¶„ κ°„κ²©μΌλ΅ μ΄¬μν• Rawμ΄λ―Έμ§€λ“¤μ„(45μ¥ κ°€λ‰) ufraw-batchλ¥Ό ν†µν•΄ μΌκ΄„ λ³€ν™ν•κ³ ,  
GIMPλ¥Ό μ‚¬μ©ν•΄ ν”„λ μ„κ°„κ²©μ„ 100msλ΅ μ„¤μ •ν•μ—¬ μ—λ‹λ©”μ΄μ… GIFλ΅ λ§λ“¤μ—μµλ‹λ‹¤.

μ΅°λ…μ„ μλ» μƒκ°ν•κ³  μ„¤μΉν•΄μ„ -μ—­κ΄‘μΌλ΅- μ½©μ΄ λ„λ¬΄ κΉλ§£κ² λ‚μ™”λ„¤μ”. π™  
ν•μ§€λ§ μΈν„°λ² νΈλ¦¬κ±° κΈ°λ¥μ΄ μ—†λ” ννƒμ¤ K100Dλ΅λ„ μ΄λ°κ² κ°€λ¥ν•λ‹¤λ”κ±Έ ν™•μΈν•  μ μμ—μµλ‹λ‹¤. π™‚

λ‹¤μμ Arduino μ½”λ“λ¥Ό μ‚¬μ©ν–μµλ‹λ‹¤.

```cpp
// Arduino Interval Trigger  
// Homin Lee  
// 6-24-2008  
// https://homin.dev

#define GROUND_PIN 4  
#define FOCUS_PIN 3  
#define SHUTTER_PIN 2  
#define LED_PIN 13

// adjust following three values for interval  
long INTERVAL_HOUR = 0;  
long INTERVAL_MIN = 10;  
long INTERVAL_SEC = 0;

long previousMillis = 0;  
long interval = 0;

static void do_focus()
{  
digitalWrite(FOCUS_PIN, LOW);  
delay(800);  
digitalWrite(FOCUS_PIN, HIGH);  
}

static void do_shutter()
{  
digitalWrite(SHUTTER_PIN, LOW);  
delay(800);  
digitalWrite(SHUTTER_PIN, HIGH);  
}

static void count_led(long elaspe)
{  
if ((elaspe/1000)%2 == 0)
digitalWrite(LED_PIN, HIGH);  
else  
digitalWrite(LED_PIN, LOW);  
}

void setup()
{  
pinMode(LED_PIN, OUTPUT);  
digitalWrite(LED_PIN, HIGH);

pinMode(GROUND_PIN, OUTPUT);  
digitalWrite(GROUND_PIN, LOW);

pinMode(FOCUS_PIN, OUTPUT);  
digitalWrite(FOCUS_PIN, HIGH);

pinMode(SHUTTER_PIN, OUTPUT);  
digitalWrite(SHUTTER_PIN, HIGH);

previousMillis = 0;  
// shutter interval in ms  
interval = (INTERVAL_HOUR\*60\*60 + INTERVAL_MIN\*60 + INTERVAL_SEC)\*1000;

do_shutter();  
}

void loop()
{  
long elaspe = millis() - previousMillis;  
if (elaspe < 0) elaspe = elaspe + 2147483647; // long max value; 2,147,483,647 if (elaspe >= interval) {  
previousMillis = millis();  
do_focus(); // wake up camera  
do_shutter(); // take it!  
} else {  
count_led(elaspe);  
}  
}
```

-μ•λ ¤μ§„ λ¬Έμ μ  : μΈν„°λ² νƒ€μ„μ„ μ²΄ν¬ν•κΈ° μ„ν•΄ millis()λ¥Ό μ‚¬μ©ν–λ”λ° μ΄ ν•¨μκ°€ long typeμ ν¬κΈ° μ ν•μΌλ΅ μΈν•΄ 7μ‹κ°„ μ΄ν›„μ— μ¤λ²„ν”λ΅μ° λλ” ν„μƒμ΄ μμµλ‹λ‹¤. μ†μ¤ μ½”λ“μ Todo λ¶€λ¶„μ— μ΄λ¶€λ¶„μ μ²λ¦¬κ°€ ν•„μ”ν•©λ‹λ‹¤.-

λ‹¤μμ Arduino 012 λ²„μ Ό λ¶€ν„°λ” millisμ μ ν•μ΄ 4μΌ μ •λ„λ΅ λμ–΄λ‚λ‹¤κ³  ν•λ„¤μ”. long λ³΄λ‹¤ λ” ν° νƒ€μ…μ„ μ‚¬μ©ν•μ€κ±°λ‚, millis()μ λ‹¨μ„λ¥Ό μμ •ν–μ§€ μ‹¶μµλ‹λ‹¤.

ν•μ§€λ§, κ·Έμ™€ μƒκ΄€ μ—†μ΄, μ¤λ²„ ν”λ΅μ° λμ—μ„λ• longμ μµλ€κ°’μ„ λ”ν•΄μ£Όμ–΄ μ΄ λ¬Έμ λ¥Ό μμ •ν–μµλ‹λ‹¤. μ„μ μ†μ¤μ— μ μ©λ¨. μ΄μ  λ¬΄μ ν•μ κΈ°κ°„λ™μ• μΉ΄λ©”λΌλ¥Ό λ¶€λ ¤ λ¨Ήμ„ μ μμµλ‹λ‹¤. ν•μ•…ν•μ•….